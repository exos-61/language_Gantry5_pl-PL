!function(e,o){"function"==typeof define&&define.amd?define(o):"object"==typeof exports?module.exports=o(require,exports,module):e.gpPopuponExit=o()}(this,function(e,o,i){return function(e,o){"use strict";var i=o||{},t=i.aggressive||!1,n=l(i.sensitivity,20),r=l(i.timer,1e3),u=l(i.delay,0),c=i.callback||function(){},a=k(i.cookieExpire)||"",s=i.cookieDomain?";domain="+i.cookieDomain:"",d=i.cookieName?i.cookieName:"viewedOuibounceModal",m=!0===i.sitewide?";path=/":"",f=null,v=document.documentElement;function l(e,o){return void 0===e?o:e}function k(e){var o=24*e*60*60*1e3,i=new Date;return i.setTime(i.getTime()+o),"; expires="+i.toUTCString()}function p(e){e.clientY>n||(f=setTimeout(g,u))}function E(){f&&(clearTimeout(f),f=null)}setTimeout(function(){if(b())return;v.addEventListener("mouseleave",p),v.addEventListener("mouseenter",E),v.addEventListener("keydown",x)},r);var y=!1;function x(e){y||e.metaKey&&76===e.keyCode&&(y=!0,f=setTimeout(g,u))}function T(e,o){return function(){for(var e=document.cookie.split("; "),o={},i=e.length-1;0<=i;i--){var t=e[i].split("=");o[t[0]]=t[1]}return o}()[e]===o}function b(){return T(d,"true")&&!t}function g(){b()||(e&&(e.style.display="block"),c(),w())}function w(e){var o=e||{};void 0!==o.cookieExpire&&(a=k(o.cookieExpire)),!0===o.sitewide&&(m=";path=/"),void 0!==o.cookieDomain&&(s=";domain="+o.cookieDomain),void 0!==o.cookieName&&(d=o.cookieName),document.cookie=d+"=true"+a+s+m,v.removeEventListener("mouseleave",p),v.removeEventListener("mouseenter",E),v.removeEventListener("keydown",x)}return{fire:g,disable:w,isDisabled:b}}});